import{r as e,a as t}from"./vendor-3q44XuPg.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const r="[0-9A-Za-z-]+",s=`(?:\\+(${r}(?:\\.${r})*))`,n="0|[1-9]\\d*",o="[0-9]+",i="\\d*[a-zA-Z-][a-zA-Z0-9-]*",a=`(?:${o}|${i})`,c=`(?:${n}|${i})`,l=`(?:-(${c}(?:\\.${c})*))`,d=`${n}|x|X|\\*`,u=`[v=\\s]*(${d})(?:\\.(${d})(?:\\.(${d})(?:${l})?${s}?)?)?`,m=`^\\s*(${u})\\s+-\\s+(${u})\\s*$`,f="((?:<|>)?=?)",$=`(\\s*)${f}\\s*(${`[v=\\s]*${`(${o})\\.(${o})\\.(${o})`}${`(?:-?(${a}(?:\\.${a})*))`}?${s}?`}|${u})`,p="(?:~>?)",h=`(\\s*)${p}\\s+`,x="(?:\\^)",j=`(\\s*)${x}\\s+`,g=`^${x}${u}$`,v=`^${p}${u}$`,y=`^${f}\\s*${u}$`,b=`^${f}\\s*(${`v?${`(${n})\\.(${n})\\.(${n})`}${l}?${s}?`})$|^$`;function w(e){return new RegExp(e)}function N(e){return!e||"x"===e.toLowerCase()||"*"===e}function _(...e){return t=>e.reduce((e,t)=>t(e),t)}function k(e){return e.match(w(b))}function S(e,t,r,s){const n=`${e}.${t}.${r}`;return s?`${n}-${s}`:n}function E(e){return e.replace(w(m),(e,t,r,s,n,o,i,a,c,l,d,u)=>`${t=N(r)?"":N(s)?`>=${r}.0.0`:N(n)?`>=${r}.${s}.0`:`>=${t}`} ${a=N(c)?"":N(l)?`<${+c+1}.0.0-0`:N(d)?`<${c}.${+l+1}.0-0`:u?`<=${c}.${l}.${d}-${u}`:`<=${a}`}`.trim())}function O(e){return e.replace(w($),"$1$2$3")}function R(e){return e.replace(w(h),"$1~")}function L(e){return e.replace(w(j),"$1^")}function P(e){return e.trim().split(/\s+/).map(e=>e.replace(w(g),(e,t,r,s,n)=>N(t)?"":N(r)?`>=${t}.0.0 <${+t+1}.0.0-0`:N(s)?"0"===t?`>=${t}.${r}.0 <${t}.${+r+1}.0-0`:`>=${t}.${r}.0 <${+t+1}.0.0-0`:n?"0"===t?"0"===r?`>=${t}.${r}.${s}-${n} <${t}.${r}.${+s+1}-0`:`>=${t}.${r}.${s}-${n} <${t}.${+r+1}.0-0`:`>=${t}.${r}.${s}-${n} <${+t+1}.0.0-0`:"0"===t?"0"===r?`>=${t}.${r}.${s} <${t}.${r}.${+s+1}-0`:`>=${t}.${r}.${s} <${t}.${+r+1}.0-0`:`>=${t}.${r}.${s} <${+t+1}.0.0-0`)).join(" ")}function A(e){return e.trim().split(/\s+/).map(e=>e.replace(w(v),(e,t,r,s,n)=>N(t)?"":N(r)?`>=${t}.0.0 <${+t+1}.0.0-0`:N(s)?`>=${t}.${r}.0 <${t}.${+r+1}.0-0`:n?`>=${t}.${r}.${s}-${n} <${t}.${+r+1}.0-0`:`>=${t}.${r}.${s} <${t}.${+r+1}.0-0`)).join(" ")}function C(e){return e.split(/\s+/).map(e=>e.trim().replace(w(y),(e,t,r,s,n,o)=>{const i=N(r),a=i||N(s),c=a||N(n);return"="===t&&c&&(t=""),o="",i?">"===t||"<"===t?"<0.0.0-0":"*":t&&c?(a&&(s=0),n=0,">"===t?(t=">=",a?(r=+r+1,s=0,n=0):(s=+s+1,n=0)):"<="===t&&(t="<",a?r=+r+1:s=+s+1),"<"===t&&(o="-0"),`${t+r}.${s}.${n}${o}`):a?`>=${r}.0.0${o} <${+r+1}.0.0-0`:c?`>=${r}.${s}.0${o} <${r}.${+s+1}.0-0`:e})).join(" ")}function I(e){return e.trim().replace(w("(<|>)?=?\\s*\\*"),"")}function U(e,t){return(e=+e||e)>(t=+t||t)?1:e===t?0:-1}function q(e,t){return U(e.major,t.major)||U(e.minor,t.minor)||U(e.patch,t.patch)||function(e,t){const{preRelease:r}=e,{preRelease:s}=t;if(void 0===r&&s)return 1;if(r&&void 0===s)return-1;if(void 0===r&&void 0===s)return 0;for(let n=0,o=r.length;n<=o;n++){const e=r[n],t=s[n];if(e!==t)return void 0===e&&void 0===t?0:e?t?U(e,t):-1:1}return 0}(e,t)}function T(e,t){return e.version===t.version}function D(e,t){switch(e.operator){case"":case"=":return T(e,t);case">":return q(e,t)<0;case">=":return T(e,t)||q(e,t)<0;case"<":return q(e,t)>0;case"<=":return T(e,t)||q(e,t)>0;case void 0:return!0;default:return!1}}function M(e,t){if(!e)return!1;const r=function(e){return _(E,O,R,L)(e.trim()).split(/\s+/).join(" ")}(t),s=r.split(" ").map(e=>function(e){return _(P,A,C,I)(e)}(e)).join(" "),n=s.split(/\s+/).map(e=>e.trim().replace(w("^\\s*>=\\s*0.0.0\\s*$"),"")),o=k(e);if(!o)return!1;const[,i,,a,c,l,d]=o,u={version:S(a,c,l,d),major:a,minor:c,patch:l,preRelease:null==d?void 0:d.split(".")};for(const m of n){const e=k(m);if(!e)return!1;const[,t,,r,s,n,o]=e;if(!D({operator:t,version:S(r,s,n,o),major:r,minor:s,patch:n,preRelease:null==o?void 0:o.split(".")},u))return!1}return!0}const z={},F={react:{get:()=>()=>W(new URL("__federation_shared_react-Wu9LRmpQ.js",import.meta.url).href),import:!0},"react-dom":{get:()=>()=>W(new URL("__federation_shared_react-dom-Fvpdb92q.js",import.meta.url).href),import:!0}},J=Object.create(null);async function V(e,t="default"){return J[e]?new Promise(t=>t(J[e])):await async function(e,t){let r=null;if(globalThis?.__federation_shared__?.[t]?.[e]){const s=globalThis.__federation_shared__[t][e],n=F[e]?.requiredVersion;if(!!n){const t=Object.keys(s).find(e=>M(e,n));if(t){const e=s[t];r=await(await e.get())()}else console.log(`provider support ${e}(${t}) is not satisfied requiredVersion(\${moduleMap[name].requiredVersion})`)}else{const e=s[Object.keys(s)[0]];r=await(await e.get())()}}if(r)return B(r,e)}(e,t)||async function(e){if(F[e]?.import){return B(await(await F[e].get())(),e)}console.error("consumer config import=false,so cant use callback shared module")}(e)}async function W(e){return z[e]??=import(e),z[e]}function B(e,t){return"function"==typeof e.default?(Object.keys(e).forEach(t=>{"default"!==t&&(e.default[t]=e[t])}),J[t]=e.default,e.default):(e.default&&(e=Object.assign({},e.default,e)),J[t]=e,e)}var Z={exports:{}},H={},K=e,X=Symbol.for("react.element"),Y=Symbol.for("react.fragment"),G=Object.prototype.hasOwnProperty,Q=K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ee={key:!0,ref:!0,__self:!0,__source:!0};function te(e,t,r){var s,n={},o=null,i=null;for(s in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(i=t.ref),t)G.call(t,s)&&!ee.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===n[s]&&(n[s]=t[s]);return{$$typeof:X,type:e,key:o,ref:i,props:n,_owner:Q.current}}H.Fragment=Y,H.jsx=te,H.jsxs=te,Z.exports=H;var re=Z.exports,se={},ne=t;se.createRoot=ne.createRoot,se.hydrateRoot=ne.hydrateRoot;const oe={},ie=await V("react"),{createContext:ae,useContext:ce,useState:le,useEffect:de}=ie,ue=ae(),me=e=>`${btoa(JSON.stringify({alg:"HS256",typ:"JWT"}))}.${btoa(JSON.stringify({sub:e.id,role:e.role,exp:Date.now()+864e5}))}.${btoa("mock-signature")}`,fe=({children:e})=>{const[t,r]=le(null),[s,n]=le(null);de(()=>{const e=localStorage.getItem("music_app_token");if(e){const t=(e=>{try{const t=e.split(".");return JSON.parse(atob(t[1]))}catch(t){return null}})(e);t&&t.exp>Date.now()?(n(e),r({id:t.sub,role:t.role})):localStorage.removeItem("music_app_token")}},[]);return re.jsx(ue.Provider,{value:{user:t,token:s,login:(e,t)=>{const s={id:"2",role:"user",username:"user"};if("admin"===e&&"admin123"===t){const e={id:"1",role:"admin",username:"admin"},t=me(e);return r(e),n(t),localStorage.setItem("music_app_token",t),{success:!0}}if("user"===e&&"user123"===t){const e=s,t=me(e);return r(e),n(t),localStorage.setItem("music_app_token",t),{success:!0}}return{success:!1,error:"Invalid credentials"}},logout:()=>{r(null),n(null),localStorage.removeItem("music_app_token")},isAdmin:()=>"admin"===t?.role,isUser:()=>"user"===t?.role,isAuthenticated:!!t},children:e})},$e=()=>{const e=ce(ue);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},pe=await V("react"),{useState:he}=pe,xe=()=>{const[e,t]=he(""),[r,s]=he(""),[n,o]=he(""),{login:i}=$e();return re.jsx("div",{className:"min-h-screen flex items-center justify-center",children:re.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 glass rounded-lg shadow-lg",children:[re.jsx("div",{children:re.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold gradient-text",children:"ðŸŽµ Sign in to Music ðŸŽµ"})}),re.jsxs("form",{className:"mt-8 space-y-6",onSubmit:t=>{t.preventDefault(),o("");const s=i(e,r);s.success||o(s.error)},children:[re.jsxs("div",{className:"space-y-4",children:[re.jsxs("div",{children:[re.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-900",children:"Username"}),re.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white/90 text-gray-900 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",placeholder:"Enter username"})]}),re.jsxs("div",{children:[re.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900",children:"Password"}),re.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:e=>s(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white/90 text-gray-900 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",placeholder:"Enter password"})]})]}),n&&re.jsx("div",{className:"text-red-600 text-sm text-center font-medium",children:n}),re.jsx("div",{children:re.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 shadow-md",children:"Sign in"})}),re.jsxs("div",{className:"text-center text-sm text-gray-900",children:[re.jsx("p",{className:"font-medium",children:"Demo Credentials:"}),re.jsx("p",{children:"Admin: admin / admin123"}),re.jsx("p",{children:"User: user / user123"})]})]})]})})};await V("react");const je=()=>{const{user:e,logout:t,isAdmin:r}=$e();return re.jsx("header",{className:"glass shadow-lg border-b border-white/10",children:re.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:re.jsxs("div",{className:"flex justify-between items-center py-6",children:[re.jsxs("div",{className:"flex items-center",children:[re.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"ðŸŽµ Music"}),re.jsx("span",{className:"ml-4 px-3 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-slate-600 to-slate-700 text-white shadow-md",children:e?.role?.toUpperCase()})]}),re.jsxs("div",{className:"flex items-center space-x-4",children:[re.jsxs("span",{className:"text-gray-900 font-medium",children:["Welcome, ",e?.username]}),re.jsx("button",{onClick:t,className:"bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white px-4 py-2 rounded-md text-sm font-medium transition-all duration-300 shadow-md",children:"Logout"})]})]})})})},ge=await V("react"),{Suspense:ve}=ge,ye=ge.lazy(()=>function(e,t){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in oe)return;oe[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,s&&n.setAttribute("nonce",s),document.head.appendChild(n),t?new Promise((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})}(()=>import("./MusicLibrary-BZnncOwU.js"),[])),be=()=>{const{isAuthenticated:e,user:t}=$e();return e?re.jsxs("div",{className:"min-h-screen",children:[re.jsx("div",{className:"music-note",children:"â™ª"}),re.jsx("div",{className:"music-note",children:"â™«"}),re.jsx("div",{className:"music-note",children:"â™ª"}),re.jsx("div",{className:"music-note",children:"â™«"}),re.jsx("div",{className:"music-note",children:"â™ª"}),re.jsx("div",{className:"music-note",children:"â™«"}),re.jsx(je,{}),re.jsx("main",{children:re.jsx(ve,{fallback:re.jsx("div",{className:"flex justify-center items-center min-h-screen",children:re.jsx("div",{className:"glass p-8 rounded-lg",children:re.jsxs("div",{className:"text-center",children:[re.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-800 mx-auto mb-4"}),re.jsx("p",{className:"text-gray-900",children:"Loading Music Library..."})]})})}),children:re.jsx(ye,{userRole:t?.role})})})]}):re.jsxs("div",{className:"min-h-screen",children:[re.jsx("div",{className:"music-note",children:"â™ª"}),re.jsx("div",{className:"music-note",children:"â™«"}),re.jsx("div",{className:"music-note",children:"â™ª"}),re.jsx("div",{className:"music-note",children:"â™«"}),re.jsx("div",{className:"music-note",children:"â™ª"}),re.jsx("div",{className:"music-note",children:"â™«"}),re.jsx(xe,{})]})},we=await V("react");se.createRoot(document.getElementById("root")).render(re.jsx(we.StrictMode,{children:re.jsx(fe,{children:re.jsx(be,{})})}));export{V as i,re as j};
