import{i as e,j as a}from"./index-DwwXjR8i.js";const t=await e("react"),{useState:r,useMemo:l,useEffect:s}=t,i=[{id:1,title:"Dhoom Again",artist:"Vishal Dadlani",album:"Album 1",year:2020,duration:"4:15"},{id:2,title:"Bang Bang",artist:"Shekhar",album:"Album 1",year:2020,duration:"3:45"},{id:3,title:"Despacito",artist:"Luis Fonsi",album:"Album 2",year:2017,duration:"3:48"},{id:4,title:"Shape of you",artist:"Ed sheeran",album:"Album 2",year:2017,duration:"3:53"},{id:5,title:"Senorita",artist:"Hritik Roshan",album:"Album 2",year:2019,duration:"3:10"},{id:6,title:"Let Me Love You",artist:"Justin Bieber",album:"Album 2",year:2016,duration:"3:25"},{id:7,title:"Zara Sa",artist:"KK",album:"Album 2",year:2018,duration:"4:20"},{id:8,title:"Dil Sambhal Ja Zara",artist:"Aijit",album:"Album 2",year:2019,duration:"3:55"},{id:9,title:"Guzarish",artist:"Javed Ali",album:"Album 2",year:2017,duration:"4:10"},{id:10,title:"Brown Rang",artist:"Honey Singh",album:"Album 2",year:2016,duration:"3:30"},{id:11,title:"Slow Motion Angreza",artist:"Shukhwinder Singh",album:"Album 2",year:2018,duration:"4:05"},{id:12,title:"Dil ka jo haal hai",artist:"Abhijeet Bhattacharya",album:"Album 2",year:2019,duration:"3:40"},{id:13,title:"Suraj Hua Maddham",artist:"Sonu Nigam",album:"Album 2",year:2017,duration:"4:25"},{id:14,title:"Hawayein",artist:"Arijit Singh",album:"Album 2",year:2018,duration:"3:50"},{id:15,title:"Bijuriya",artist:"Sonu Nigam",album:"Album 2",year:2019,duration:"3:35"},{id:16,title:"Laal Pari",artist:"Honey Singh",album:"Album 2",year:2016,duration:"3:20"}],o=({userRole:e="user"})=>{const[t,o]=r(()=>(()=>{try{const e=localStorage.getItem("musicLibrarySongs");if(e){const a=JSON.parse(e);return a.some(e=>"Bohemian Rhapsody"===e.title)?(localStorage.removeItem("musicLibrarySongs"),i):a}return i}catch(e){return console.error("Error loading songs from localStorage:",e),i}})()),[n,d]=r(""),[u,c]=r("title"),[m,b]=r("none"),[g,h]=r(!1),[x,y]=r({title:"",artist:"",album:"",year:"",duration:""}),p="admin"===e;s(()=>{(e=>{try{localStorage.setItem("musicLibrarySongs",JSON.stringify(e))}catch(a){console.error("Error saving songs to localStorage:",a)}})(t)},[t]);const f=l(()=>n?t.filter(e=>e.title.toLowerCase().includes(n.toLowerCase())||e.artist.toLowerCase().includes(n.toLowerCase())||e.album.toLowerCase().includes(n.toLowerCase())):t,[t,n]),j=l(()=>[...f].sort((e,a)=>{switch(u){case"title":return e.title.localeCompare(a.title);case"artist":return e.artist.localeCompare(a.artist);case"album":return e.album.localeCompare(a.album);case"year":return a.year-e.year;default:return 0}}),[f,u]),v=l(()=>"none"===m?{"All Songs":j}:j.reduce((e,a)=>{const t=a[m];return e[t]||(e[t]=[]),e[t].push(a),e},{}),[j,m]);return a.jsx("div",{className:"min-h-screen text-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Music Library"}),a.jsx("div",{className:"glass rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),a.jsx("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Search songs...",className:"w-full px-3 py-2 bg-white/80 border border-gray-300 rounded-md text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),a.jsxs("select",{value:u,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 bg-white/80 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",children:[a.jsx("option",{value:"title",className:"text-gray-900",children:"Title"}),a.jsx("option",{value:"artist",className:"text-gray-900",children:"Artist"}),a.jsx("option",{value:"album",className:"text-gray-900",children:"Album"}),a.jsx("option",{value:"year",className:"text-gray-900",children:"Year"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group By"}),a.jsxs("select",{value:m,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 bg-white/80 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",children:[a.jsx("option",{value:"none",className:"text-gray-900",children:"No Grouping"}),a.jsx("option",{value:"artist",className:"text-gray-900",children:"Artist"}),a.jsx("option",{value:"album",className:"text-gray-900",children:"Album"}),a.jsx("option",{value:"year",className:"text-gray-900",children:"Year"})]})]}),p&&a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>h(!g),className:"w-full bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white px-4 py-2 rounded-md font-medium transition-all duration-300 shadow-md",children:g?"Cancel":"Add Song"})})]})}),p&&g&&a.jsxs("div",{className:"glass rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add New Song"}),a.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),x.title&&x.artist&&x.album){const e={id:Math.max(...t.map(e=>e.id))+1,...x,year:parseInt(x.year)||(new Date).getFullYear()},a=[...t,e];o(a),y({title:"",artist:"",album:"",year:"",duration:""}),h(!1),alert(`Song "${e.title}" by ${e.artist} has been added successfully!`)}},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("input",{type:"text",placeholder:"Title",value:x.title,onChange:e=>y({...x,title:e.target.value}),className:"px-3 py-2 bg-white/80 border border-gray-300 rounded-md text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",required:!0}),a.jsx("input",{type:"text",placeholder:"Artist",value:x.artist,onChange:e=>y({...x,artist:e.target.value}),className:"px-3 py-2 bg-white/80 border border-gray-300 rounded-md text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",required:!0}),a.jsx("input",{type:"text",placeholder:"Album",value:x.album,onChange:e=>y({...x,album:e.target.value}),className:"px-3 py-2 bg-white/80 border border-gray-300 rounded-md text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",required:!0}),a.jsx("input",{type:"number",placeholder:"Year",value:x.year,onChange:e=>y({...x,year:e.target.value}),className:"px-3 py-2 bg-white/80 border border-gray-300 rounded-md text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm"}),a.jsx("input",{type:"text",placeholder:"Duration (e.g., 3:45)",value:x.duration,onChange:e=>y({...x,duration:e.target.value}),className:"px-3 py-2 bg-white/80 border border-gray-300 rounded-md text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm"}),a.jsx("button",{type:"submit",className:"bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white px-4 py-2 rounded-md font-medium transition-all duration-300 shadow-md",children:"Add Song"})]})]}),a.jsx("div",{className:"space-y-6",children:Object.entries(v).map(([e,r])=>a.jsxs("div",{className:"glass rounded-lg overflow-hidden",children:["none"!==m&&a.jsx("div",{className:"bg-slate-700 px-6 py-3",children:a.jsx("h3",{className:"text-lg font-semibold text-white",children:e})}),a.jsx("div",{className:"divide-y divide-gray-300",children:r.map(e=>a.jsx("div",{className:"px-6 py-4 hover:bg-white/20 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900",children:e.title}),a.jsx("p",{className:"text-gray-700",children:e.artist})]}),a.jsxs("div",{className:"text-gray-600 text-sm",children:[a.jsx("p",{children:e.album}),a.jsxs("p",{children:[e.year," â€¢ ",e.duration]})]})]})}),p&&a.jsx("button",{onClick:()=>(e=>{const a=t.find(a=>a.id===e);if(a&&window.confirm(`Are you sure you want to delete "${a.title}" by ${a.artist}?`)){const r=t.filter(a=>a.id!==e);o(r),alert(`Song "${a.title}" has been deleted successfully!`)}})(e.id),className:"ml-4 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white px-3 py-1 rounded text-sm transition-all duration-300 shadow-md",children:"Delete"})]})},e.id))})]},e))}),0===j.length&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600 text-lg",children:"No songs found matching your criteria."})})]})})})};export{o as default};
