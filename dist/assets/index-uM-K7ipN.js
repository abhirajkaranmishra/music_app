import{r as e,a as t,R as r}from"./vendor-BXk_ma1u.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var s={exports:{}},a={},l=e,o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,d=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,a={},l=null,i=null;for(s in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(i=t.ref),t)n.call(t,s)&&!u.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:o,type:e,key:l,ref:i,props:a,_owner:d.current}}a.Fragment=i,a.jsx=c,a.jsxs=c,s.exports=a;var m=s.exports,x={},h=t;x.createRoot=h.createRoot,x.hydrateRoot=h.hydrateRoot;const g=e.createContext(),b=e=>`${btoa(JSON.stringify({alg:"HS256",typ:"JWT"}))}.${btoa(JSON.stringify({sub:e.id,role:e.role,exp:Date.now()+864e5}))}.${btoa("mock-signature")}`,p=({children:t})=>{const[r,s]=e.useState(null),[a,l]=e.useState(null);e.useEffect(()=>{const e=localStorage.getItem("music_app_token");if(e){const t=(e=>{try{const t=e.split(".");return JSON.parse(atob(t[1]))}catch(t){return null}})(e);t&&t.exp>Date.now()?(l(e),s({id:t.sub,role:t.role})):localStorage.removeItem("music_app_token")}},[]);return m.jsx(g.Provider,{value:{user:r,token:a,login:(e,t)=>{const r={id:"2",role:"user",username:"user"};if("admin"===e&&"admin123"===t){const e={id:"1",role:"admin",username:"admin"},t=b(e);return s(e),l(t),localStorage.setItem("music_app_token",t),{success:!0}}if("user"===e&&"user123"===t){const e=r,t=b(e);return s(e),l(t),localStorage.setItem("music_app_token",t),{success:!0}}return{success:!1,error:"Invalid credentials"}},logout:()=>{s(null),l(null),localStorage.removeItem("music_app_token")},isAdmin:()=>"admin"===(null==r?void 0:r.role),isUser:()=>"user"===(null==r?void 0:r.role),isAuthenticated:!!r},children:t})},f=()=>{const t=e.useContext(g);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},y=()=>{const[t,r]=e.useState(""),[s,a]=e.useState(""),[l,o]=e.useState(""),{login:i}=f();return m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 glass rounded-lg shadow-lg",children:[m.jsx("div",{children:m.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold gradient-text",children:"ðŸŽµ Sign in to Music ðŸŽµ"})}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:e=>{e.preventDefault(),o("");const r=i(t,s);r.success||o(r.error)},children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-800",children:"Username"}),m.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t,onChange:e=>r(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white/90 text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",placeholder:"Enter username"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-800",children:"Password"}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s,onChange:e=>a(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white/90 text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",placeholder:"Enter password"})]})]}),l&&m.jsx("div",{className:"text-red-600 text-sm text-center font-medium",children:l}),m.jsx("div",{children:m.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 shadow-md",children:"Sign in"})}),m.jsxs("div",{className:"text-center text-sm text-gray-700",children:[m.jsx("p",{className:"font-medium",children:"Demo Credentials:"}),m.jsx("p",{children:"Admin: admin / admin123"}),m.jsx("p",{children:"User: user / user123"})]})]})]})})},v=()=>{var e;const{user:t,logout:r,isAdmin:s}=f();return m.jsx("header",{className:"glass shadow-lg border-b border-white/10",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center py-6",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"ðŸŽµ Music"}),m.jsx("span",{className:"ml-4 px-3 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-slate-600 to-slate-700 text-white shadow-md",children:null==(e=null==t?void 0:t.role)?void 0:e.toUpperCase()})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("span",{className:"text-gray-800 font-medium",children:["Welcome, ",null==t?void 0:t.username]}),m.jsx("button",{onClick:r,className:"bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white px-4 py-2 rounded-md text-sm font-medium transition-all duration-300 shadow-md",children:"Logout"})]})]})})})},j=[{id:1,title:"Dhoom Again",artist:"Vishal Dadlani",album:"Album 1",year:2006,duration:"4:15"},{id:2,title:"Bang Bang",artist:"Shekhar",album:"Album 1",year:2014,duration:"3:42"},{id:3,title:"Despacito",artist:"Luis Fonsi",album:"Album 2",year:2017,duration:"3:47"},{id:4,title:"Shape of You",artist:"Ed Sheeran",album:"Album 2",year:2017,duration:"3:53"},{id:5,title:"Senorita",artist:"Hritik Roshan",album:"Album 2",year:2019,duration:"3:10"},{id:6,title:"Let Me Love You",artist:"Justin Bieber",album:"Album 2",year:2016,duration:"3:25"},{id:7,title:"Zara Sa",artist:"KK",album:"Album 2",year:2006,duration:"4:28"},{id:8,title:"Dil Sambhal Ja Zara",artist:"Arijit Singh",album:"Album 2",year:2013,duration:"4:10"},{id:9,title:"Guzarish",artist:"Javed Ali",album:"Album 2",year:2010,duration:"5:27"},{id:10,title:"Brown Rang",artist:"Honey Singh",album:"Album 2",year:2012,duration:"3:45"},{id:11,title:"Slow Motion Angreza",artist:"Shukhwinder Singh",album:"Album 2",year:2014,duration:"4:20"},{id:12,title:"Dil ka jo haal hai",artist:"Abhijeet Bhattacharya",album:"Album 2",year:2e3,duration:"4:35"},{id:13,title:"Suraj Hua Maddham",artist:"Sonu Nigam",album:"Album 2",year:2001,duration:"4:48"},{id:14,title:"Hawayein",artist:"Arijit Singh",album:"Album 2",year:2017,duration:"4:29"},{id:15,title:"Bijuriya",artist:"Sonu Nigam",album:"Album 2",year:2013,duration:"3:55"},{id:16,title:"Laal Pari",artist:"Honey Singh",album:"Album 2",year:2013,duration:"3:30"}],N=({userRole:t="user"})=>{const[r,s]=e.useState(()=>{const e=localStorage.getItem("musicAppSongs");if(e)try{return JSON.parse(e)}catch(t){return console.error("Error parsing saved songs:",t),j}return j});e.useEffect(()=>{localStorage.setItem("musicAppSongs",JSON.stringify(r))},[r]);const[a,l]=e.useState(""),[o,i]=e.useState("title"),[n,d]=e.useState("none"),[u,c]=e.useState(!1),[x,h]=e.useState({title:"",artist:"",album:"",year:"",duration:""}),[g,b]=e.useState(!1),p="admin"===t,f=e.useMemo(()=>a?r.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.artist.toLowerCase().includes(a.toLowerCase())||e.album.toLowerCase().includes(a.toLowerCase())):r,[r,a]),y=e.useMemo(()=>[...f].sort((e,t)=>{switch(o){case"title":return e.title.localeCompare(t.title);case"artist":return e.artist.localeCompare(t.artist);case"album":return e.album.localeCompare(t.album);case"year":return t.year-e.year;default:return 0}}),[f,o]),v=e.useMemo(()=>"none"===n?{"All Songs":y}:y.reduce((e,t)=>{const r=t[n];return e[r]||(e[r]=[]),e[r].push(t),e},{}),[y,n]);return m.jsx("div",{className:"min-h-screen text-gray-800",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-4xl font-bold gradient-text mb-6 text-center",children:"ðŸŽµ Music Library ðŸŽµ"}),m.jsxs("p",{className:"text-center text-gray-600 mb-4",children:["Total Songs: ",m.jsx("span",{className:"font-semibold text-gray-800",children:r.length}),p&&m.jsx("span",{className:"ml-4 text-sm",children:"(Admin can add/delete songs)"})]}),g&&m.jsx("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg text-center",children:"âœ… Song added successfully! It will be visible to all users."}),m.jsx("div",{className:"glass rounded-lg p-6 mb-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Search"}),m.jsx("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"ðŸ” Search songs...",className:"w-full px-3 py-2 bg-white/90 border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Sort By"}),m.jsxs("select",{value:o,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 bg-white/90 border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",children:[m.jsx("option",{value:"title",children:"Title"}),m.jsx("option",{value:"artist",children:"Artist"}),m.jsx("option",{value:"album",children:"Album"}),m.jsx("option",{value:"year",children:"Year"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Group By"}),m.jsxs("select",{value:n,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 bg-white/90 border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",children:[m.jsx("option",{value:"none",children:"No Grouping"}),m.jsx("option",{value:"artist",children:"Artist"}),m.jsx("option",{value:"album",children:"Album"}),m.jsx("option",{value:"year",children:"Year"})]})]}),p&&m.jsxs("div",{className:"flex items-end space-x-2",children:[m.jsx("button",{onClick:()=>c(!u),className:"flex-1 bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white px-4 py-2 rounded-md font-medium transition-all duration-300 shadow-md",children:u?"âŒ Cancel":"âž• Add Song"}),m.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset all songs to the initial data? This will remove all custom songs you've added.")&&s(j)},className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-3 py-2 rounded-md font-medium transition-all duration-300 shadow-md text-sm",title:"Reset to initial songs",children:"ðŸ”„ Reset"})]})]})}),p&&u&&m.jsxs("div",{className:"glass rounded-lg p-6 mb-6",children:[m.jsx("h3",{className:"text-xl font-semibold mb-4 gradient-text",children:"âœ¨ Add New Song âœ¨"}),m.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),x.title&&x.artist&&x.album){const e={id:Math.max(...r.map(e=>e.id))+1,...x,year:parseInt(x.year)||(new Date).getFullYear(),duration:x.duration||"3:00"};s([...r,e]),h({title:"",artist:"",album:"",year:"",duration:""}),c(!1),b(!0),setTimeout(()=>b(!1),3e3)}},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Title",value:x.title,onChange:e=>h({...x,title:e.target.value}),className:"px-3 py-2 bg-white/90 border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",required:!0}),m.jsx("input",{type:"text",placeholder:"Artist",value:x.artist,onChange:e=>h({...x,artist:e.target.value}),className:"px-3 py-2 bg-white/90 border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",required:!0}),m.jsx("input",{type:"text",placeholder:"Album",value:x.album,onChange:e=>h({...x,album:e.target.value}),className:"px-3 py-2 bg-white/90 border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm",required:!0}),m.jsx("input",{type:"number",placeholder:"Year",value:x.year,onChange:e=>h({...x,year:e.target.value}),className:"px-3 py-2 bg-white/90 border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm"}),m.jsx("input",{type:"text",placeholder:"Duration (e.g., 3:45)",value:x.duration,onChange:e=>h({...x,duration:e.target.value}),className:"px-3 py-2 bg-white/90 border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-slate-500 focus:border-slate-500 backdrop-blur-sm"}),m.jsx("button",{type:"submit",className:"bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white px-4 py-2 rounded-md font-medium transition-all duration-300 shadow-md",children:"Add Song"})]})]}),m.jsx("div",{className:"space-y-6",children:Object.entries(v).map(([e,t])=>m.jsxs("div",{className:"glass rounded-lg overflow-hidden",children:["none"!==n&&m.jsx("div",{className:"bg-gradient-to-r from-slate-600 to-slate-700 px-6 py-3",children:m.jsx("h3",{className:"text-lg font-semibold text-white",children:e})}),m.jsx("div",{className:"divide-y divide-gray-200",children:t.map(e=>m.jsx("div",{className:"px-6 py-4 hover:bg-white/20 transition-all duration-300 hover:transform hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-lg font-medium text-gray-800",children:e.title}),m.jsx("p",{className:"text-gray-600",children:e.artist})]}),m.jsxs("div",{className:"text-gray-500 text-sm",children:[m.jsx("p",{children:e.album}),m.jsxs("p",{children:[e.year," â€¢ ",e.duration]})]})]})}),p&&m.jsx("button",{onClick:()=>{return t=e.id,void s(r.filter(e=>e.id!==t));var t},className:"ml-4 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-3 py-1 rounded text-sm transition-all duration-300 shadow-sm",children:"Delete"})]})},e.id))})]},e))}),0===y.length&&m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-800 text-lg font-medium",children:"No songs found matching your criteria."})})]})})})},w=()=>{const{isAuthenticated:e,user:t}=f();return e?m.jsxs("div",{className:"min-h-screen",children:[m.jsx("div",{className:"music-note",children:"â™ª"}),m.jsx("div",{className:"music-note",children:"â™«"}),m.jsx("div",{className:"music-note",children:"â™ª"}),m.jsx("div",{className:"music-note",children:"â™«"}),m.jsx("div",{className:"music-note",children:"â™ª"}),m.jsx("div",{className:"music-note",children:"â™«"}),m.jsx(v,{}),m.jsx("main",{children:m.jsx(N,{userRole:null==t?void 0:t.role})})]}):m.jsxs("div",{className:"min-h-screen",children:[m.jsx("div",{className:"music-note",children:"â™ª"}),m.jsx("div",{className:"music-note",children:"â™«"}),m.jsx("div",{className:"music-note",children:"â™ª"}),m.jsx("div",{className:"music-note",children:"â™«"}),m.jsx("div",{className:"music-note",children:"â™ª"}),m.jsx("div",{className:"music-note",children:"â™«"}),m.jsx(y,{})]})};x.createRoot(document.getElementById("root")).render(m.jsx(r.StrictMode,{children:m.jsx(p,{children:m.jsx(w,{})})}));
